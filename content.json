{"meta":{"title":"FinLab 財經量化實驗室","subtitle":"金融理財量化學習網站","description":"財經資料的研究，利用財報、股價等資訊幫助投資人在買股票時做出正確的判斷。","author":"koreal6803","url":"https://koreal6803.github.io"},"pages":[],"posts":[{"title":"用股價淨值比來判斷大盤漲跌","slug":"用股價淨值比來判斷大盤漲跌","date":"2017-09-25T18:52:40.000Z","updated":"2017-09-25T20:52:10.000Z","comments":true,"path":"用股價淨值比來判斷大盤漲跌/","link":"","permalink":"https://koreal6803.github.io/用股價淨值比來判斷大盤漲跌/","excerpt":"","text":"股價淨值比(PB)真的能夠判斷台股大盤漲跌嗎？今天做了一張gif動圖，讓各位用眼睛觀察台股是否漲多了，是否有泡沫要破的跡象，甚至讓你有雞會可以買在大盤低點。 股價淨值比(PB)，可以拿來判斷股民對這某家公司的看法，假如大家覺得這家公司未來會壯大，則淨值比會大於1，如果這家公司會衰退，則淨值比會小於1。那剛好我們就可以做出一張分佈圖，來看一下全體投資人對每一家公司看好看衰的分佈圖，跟大盤之間的變化（這張圖稍大可能要等久一點…）。結果發現，當大盤大跌之前，會有類似的前兆，想知道前兆是什麼？請接著看這張圖： 這張圖的上半部，是用來看多少個企業被看好，多少企業被看衰。x軸分成左右兩邊，大於零代表樂觀，小於零代表悲觀。其實x軸就是股價淨值比取log(PB)的分佈，為什麼要用log呢？是為了讓分佈圖更接近高斯，也讓多空變成在0的對稱位置。此圖的每一根bar代表有多少支股票，其股價淨值比為log(PB)。此圖有五條垂直線，代表著中值加減兩個標準差。 大部分的時候，投資人基本上看好台灣的市場，所以分佈普遍偏向右邊，而且事實發現，近來台股加權指數破萬，並不是大泡泡，而是台灣的企業真的慢慢隨著時間在壯大，因為當2017年的時候雖然大盤破萬點，但分佈圖並沒有超級偏右邊，代表台灣的企業是真的有跟上投資人的期待。然而最近還是有點太過樂觀的氣氛瀰漫，還是得懂得居高思危才行XD。 下圖則是大盤的走勢，我們從2010年統計到2015年，每20天計算一次股價淨值比分佈圖，可以發現一些有趣的現象： 中值平常都待在log(PB) = 0 ~ 1 之間，當大盤跌到最低點時，會回到0附近（可以當作大盤買點）， 大盤在高點時，標準差會比其它時候略小，而中值最大約在 log(PB) = 0.5 左右 當大盤要大跌前的前兆是分佈的標準差會明顯變大，且伴隨中值變低 當然這也有雞生蛋，蛋生雞的感覺，也就是究竟是大跌造成了這些反應，還是這些反應造成了大跌，還是都有，之後再來繼續研究這個課題！","raw":null,"content":null,"categories":[{"name":"量化投資","slug":"量化投資","permalink":"https://koreal6803.github.io/categories/量化投資/"}],"tags":[{"name":"股價淨值比","slug":"股價淨值比","permalink":"https://koreal6803.github.io/tags/股價淨值比/"},{"name":"泡沫","slug":"泡沫","permalink":"https://koreal6803.github.io/tags/泡沫/"},{"name":"大盤","slug":"大盤","permalink":"https://koreal6803.github.io/tags/大盤/"},{"name":"買點","slug":"買點","permalink":"https://koreal6803.github.io/tags/買點/"}]},{"title":"股價淨值比有這麼神？","slug":"股價淨值比有這麼神？","date":"2017-09-24T11:09:52.000Z","updated":"2017-09-24T15:07:25.000Z","comments":true,"path":"股價淨值比有這麼神？/","link":"","permalink":"https://koreal6803.github.io/股價淨值比有這麼神？/","excerpt":"股價淨值比(PB)，是用來判斷一個究竟公司是被高估還是低估的指標，可以參考介紹\n股價淨值比真的越低越好嗎？我們來看看。","text":"股價淨值比(PB)，是用來判斷一個究竟公司是被高估還是低估的指標，可以參考介紹 股價淨值比真的越低越好嗎？我們來看看。 設計以下實驗：每半年（125天）換一次持股，從2010年到2017年選取台股上市公司所有 PB &lt; N 的公司，並將資產平均作分配，持有半年。 這張圖的Y軸是從2010年開始投資，資產的倍數變化圖，可以發現PB小的股票真的有比大盤好，原本我以為PB不能越低越好，但最後發現，PB越小，報酬率真的越高（只限於這個簡單策略），但我這邊說的是一群股票的整體結果，不代表單一股票PB越小就一定越好喔！可以看出 PB&lt;0.5 的時候，回測結果大起大落，我們來仔細看其中到底怎麼回事： 這個是 PB &lt; 0.5 的歷史績效圖，藍色是不考慮手續費跟稅，且資產可以完全平均分散買入所選的股票；紅色是起始100萬，也是盡量平均分散，但最小張數是一張，不能買零股，並且會放棄太貴的股票。可以發現紅色跟藍色差滿多的，最後結果可以差到50萬元，其中手續費佔了不少，為什麼2015～2016年下滑這麼大呢？我們接著來看一下手中持股數量： 此圖的Y軸是手上持股的數量，可以發現，2015～2016年只買了非常少張股票，可能才2～3張。這就像是把雞蛋都放在同一個籃子很危險，造成鉅額損失。另外可以觀察到，買入的股票數量似乎跟大盤成反比，大盤漲，手上股票就變少，大盤跌，手上股票就變多，是不是PB 小的股票變少，反過來想是大部分股票被高估，整體台股過於樂觀，泡沫即將破滅？之後可以來研究看看。 最後我們來看一下最大的下滑損失了多少%的總資產： 此圖的Y軸為下跌百分比，可以發現在2015～2016年，損失了40%的總資產，假如我們剛好在那時候投資，100萬就只剩60萬，實在有點可怕。 於是我們總結一下： 選擇PB越小的一群標的（PB &lt; 0.6~0.8），半年更新一次還不錯，但一定要做好風險管理，千萬別將全部的雞蛋放在通一個籃子裡！也可以配合其它的財報選出優質股～","raw":null,"content":null,"categories":[{"name":"量化投資","slug":"量化投資","permalink":"https://koreal6803.github.io/categories/量化投資/"}],"tags":[{"name":"股價淨值比","slug":"股價淨值比","permalink":"https://koreal6803.github.io/tags/股價淨值比/"}]},{"title":"策略狗。績優股獵犬3。簡單回測","slug":"策略狗。績優股獵犬3。簡單回測","date":"2017-09-23T09:34:35.000Z","updated":"2017-09-24T15:08:26.000Z","comments":true,"path":"策略狗。績優股獵犬3。簡單回測/","link":"","permalink":"https://koreal6803.github.io/策略狗。績優股獵犬3。簡單回測/","excerpt":"","text":"今天來做個間單的回測，為策略狗文章作一個總結： 我們選股條件： “自由現金報酬率”最高的前30% 本益比 &lt; 25 股價淨值比 &lt; 1.5 每格N天就重新選一次手中的股票，比較跟策略狗不一樣的是，回測不只限於20支，只要滿足條件，就會買入，例如當手上要換成30張股票時，會將自己的所有現金平均分配到此30張股票，不計算手續費。 以下是回測結果： 其中Y軸為你的資產的倍數。可以發現，回測結果跟策略狗上面的曲線是相似的。不論N是多少，都比大盤還要好，然而其中N=60的較差，有可能的原因是”自由現金報酬率”還沒醞釀完畢。另外，半年是比一年換一次股好一點點而已，幾乎可以忽略不計。 幫大家測完的結果，雖然我寫的方法跟策略狗有點不一樣，但是用非常雷同的方法，結論是：真的每年再換一次股就好了！","raw":null,"content":null,"categories":[{"name":"量化投資","slug":"量化投資","permalink":"https://koreal6803.github.io/categories/量化投資/"}],"tags":[{"name":"策略狗","slug":"策略狗","permalink":"https://koreal6803.github.io/tags/策略狗/"},{"name":"自由現金報酬率","slug":"自由現金報酬率","permalink":"https://koreal6803.github.io/tags/自由現金報酬率/"}]},{"title":"策略狗。績優股獵犬2。何時買股才對？","slug":"策略狗。績優股獵犬2。何時買股才對？","date":"2017-09-22T13:47:06.000Z","updated":"2017-09-22T23:59:25.000Z","comments":true,"path":"策略狗。績優股獵犬2。何時買股才對？/","link":"","permalink":"https://koreal6803.github.io/策略狗。績優股獵犬2。何時買股才對？/","excerpt":"上一篇介紹了”自由現金報酬率”高的股票，不容易大起大落。\n這篇就來分析一下，”自由現金報酬率” 每隔多少天重新買一次，獲利比較好。","text":"上一篇介紹了”自由現金報酬率”高的股票，不容易大起大落。 這篇就來分析一下，”自由現金報酬率” 每隔多少天重新買一次，獲利比較好。 首先，我們先取2010年到2017年所有低估的股票： 股價淨值比 &lt; 1 本益比 &lt; 15 每隔N天就重新選取低估股票，並觀察其漲跌是否與它的”自由現金報酬率”成正比： X軸為持有的週期，這邊的天數是指股票有開市的天數，理論上一年是250天左右，Y軸為相關性，有關相慣性，在這邊做一個簡單的介紹： 相關性正數越高（最大是1），代表”自由現金報酬率”跟股票漲跌越成正比。 相關性接近0，代表，”自由現金報酬率”跟股價沒關係。 相關性越負（最小是-1），代表”自由現金報酬率”跟股票漲跌越成反比。 可以發現當週期從50天到150天其間，相關性是慢慢增加的，代表股票的”自由現金報酬率”需要一點時間醞釀，醞釀時間大概半年。然而，約在半年之後，correlation就開始大起大落（但好在幾乎都是正的），所以我們可以推斷：持股長達半年以後，股價漲跌跟”自由現金報酬率”較不相干。 於是，從上圖我們可以推斷： 可以約每半年換一次手上的股票，讓”自由現金報酬率”有時間反映在股價上！ 雖然策略狗官網的指導是說一年，但從圖中發現半年或許更合適。（沒准明天寫一篇推翻今天的結論也說不定XDD） 當然，沒有人能保證這些研究都是絕對正確的，假如大家覺得我的實驗哪裡不夠完善，要如何改善，歡迎跟我一起討論。下一篇我們將回測台股2010到2015年所有股票，看看是否跟此結論吻合。","raw":null,"content":null,"categories":[{"name":"量化投資","slug":"量化投資","permalink":"https://koreal6803.github.io/categories/量化投資/"}],"tags":[{"name":"策略狗","slug":"策略狗","permalink":"https://koreal6803.github.io/tags/策略狗/"},{"name":"自由現金報酬率","slug":"自由現金報酬率","permalink":"https://koreal6803.github.io/tags/自由現金報酬率/"}]},{"title":"策略狗。績優股獵犬1。如何找到優質股？","slug":"策略狗。績優股獵犬1。如何找到優質股？","date":"2017-09-21T13:47:06.000Z","updated":"2017-09-23T23:47:51.000Z","comments":true,"path":"策略狗。績優股獵犬1。如何找到優質股？/","link":"","permalink":"https://koreal6803.github.io/策略狗。績優股獵犬1。如何找到優質股？/","excerpt":"最近財報狗出了一個新的功能：策略狗。\n來研究一下它最新公開的指標～","text":"最近財報狗出了一個新的功能：策略狗。 來研究一下它最新公開的指標～ 財報狗簡直是佛新來著，教大家如何打敗大盤，而且每年只要400元！（不是置入性行銷） 其實是每個月400元啦，但每個策略一年改動一次而已，所以一年12個月中，只要買一個月就可以了…而且還幫你回測，感覺就很安心。 針對績優股的”自由現金報酬率”這個比較不常見的指標，想來做個研究。 什麼是自由現金呢？這邊我就直接複製策略狗的教學： 投資資本 = 股東權益 + 長短期金融借款自由現金流 = 營業現金流 - 資本支出自由現金報酬率 = 自由現金流 / 投資資本 既然策略狗告訴我：取”自由現金報酬率”高的股票，買一年會漲的機率較高。我進一步想要分析的是，假如只買一個月會如何呢？ 於是做了一個相關性的比較 以原點(0,0)可以將這張圖表分成上下左右四個象現，此圖的左右，代表任意買入一個月是否獲利，正的是股價上漲，負的是下跌。此圖的上下，代表”自由現金流報酬率”的高低。 很對稱…沒什麼相關性，可以能是一個月還太快，畢竟這個指標是用於長期投資，一個月的漲跌還太短了。但可以發現，在圖的下半部，股價比較容易發散，而上半部股價比較集中，這是一個有趣的現象： “自由現金流報酬率”高的股票，似乎短時間（單月）內不易大起大落。 那把一個月調整一季、半年、一年，對獲利又帶來什麼影響呢？ 下一篇再告訴大家。","raw":null,"content":null,"categories":[{"name":"量化投資","slug":"量化投資","permalink":"https://koreal6803.github.io/categories/量化投資/"}],"tags":[{"name":"策略狗","slug":"策略狗","permalink":"https://koreal6803.github.io/tags/策略狗/"},{"name":"自由現金報酬率","slug":"自由現金報酬率","permalink":"https://koreal6803.github.io/tags/自由現金報酬率/"}]},{"title":"如何戰勝惰性？","slug":"每天至少寫一行","date":"2017-09-20T11:09:42.000Z","updated":"2017-09-22T22:58:52.000Z","comments":true,"path":"每天至少寫一行/","link":"","permalink":"https://koreal6803.github.io/每天至少寫一行/","excerpt":"如何持續運動不中斷？跨年的願望完成了沒？說好每天背英文單字呢？\n這些都需要毅力，我所沒有的毅力。\n然而，最近聽到好友說的話，讓我有點頓悟！","text":"如何持續運動不中斷？跨年的願望完成了沒？說好每天背英文單字呢？ 這些都需要毅力，我所沒有的毅力。 然而，最近聽到好友說的話，讓我有點頓悟！ 其實我們不需要有毅力，我們需要拆解任務的能力。 讓我來說明一下，通常一個任務(task)，跟我的毅力(willpower)可以量化的話，會是這樣子：任務與毅力12task = 100 # 任務willpower = 5 # 毅力別懷疑，我的毅力真的很薄弱。 但沒關係，我們將任務分解成很小塊的子任務(subtask)：分解任務123subtask = taskwhile (subtask &gt; willpower) subtask /= 2秘訣就在這！要分解到一個你覺得可笑的地步，例如： 一天一下仰臥起做 一天寫一行部落格 一天花一小時研究 一定要夠可笑，才會成功。 重點不在於做的多或少，而是在於你是否開始做。很多事情痛苦的是靜摩擦力，後面就輕鬆了！ 一天一下仰臥起做：都做一下了怎麼可能不多做幾下。 一天寫一行部落格：你看我今天都寫多少行了。 一天作一小時研究：0.0 聽起來不錯 每天會有額外的動力去多做一點，甚至很多點每天的任務123progress = 0while(progress &lt; task) progress += subtask + random.randint(0, 10*subtask) 所以，我給自己的標準是：每天寫一行部落格，就好了！","raw":null,"content":null,"categories":[{"name":"生活","slug":"生活","permalink":"https://koreal6803.github.io/categories/生活/"}],"tags":[{"name":"生活","slug":"生活","permalink":"https://koreal6803.github.io/tags/生活/"},{"name":"一行","slug":"一行","permalink":"https://koreal6803.github.io/tags/一行/"}]},{"title":"立誓：每天都寫吧！","slug":"立誓：每天都寫吧！","date":"2017-09-19T18:14:58.000Z","updated":"2017-09-22T22:56:40.000Z","comments":true,"path":"立誓：每天都寫吧！/","link":"","permalink":"https://koreal6803.github.io/立誓：每天都寫吧！/","excerpt":"","text":"橘色的夕陽說明今天又結束了。 還有一年365個夜晚可以浪費，但就這麼浪費太可惜了，還是來做些什麼吧！ 於是開始了，希望不要半途而廢的旅程！ Hello World1print(\"Hello world!\")","raw":null,"content":null,"categories":[{"name":"生活","slug":"生活","permalink":"https://koreal6803.github.io/categories/生活/"}],"tags":[{"name":"生活","slug":"生活","permalink":"https://koreal6803.github.io/tags/生活/"}]}]}